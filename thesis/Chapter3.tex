%Chapter 3

\renewcommand{\thechapter}{3}

\chapter{The Way Towards Gradual Typing}

Previous chapter explored the benefits gradual typing
can bring in for existing languages.
This chapter discuss the way towards making the extension:
common and language-specific challenges the researchers have faced,
and their solutions.

\section{Extensions to Type Systems}

Gradual type system supports both fully static and fully dynamic typing,
which requires support for traditional static types including
basic type, function type and types for structural data
and a notion of dynamic type to allow presence of partial type information
in the system. And static typechecking and runtime checks should work together
to establish soundness for the extended languages.

In addition to this, interesting extensions have been made
for several languages we have discussed so far to provide better gradual
typing support.

\subsection{Differential Typing}

\subsection{Occurrence Typing}

\subsection{Bidirectional Typing}

\section{Dealing with Structural Data}

Structural data combines data types together to form organized data for processing.
It is such an important concept that all languages we have discussed so far study
it to some extent. The notion can also be extended to object-oriented programming,
in which structural data are just objects with only fields and objects are also
allowed to have methods who can either share methods from other objects,
or defines it own to allow different runtime behavior.

\subsection{Structural Data and Subtyping}

\subsection{Object-Oriented Programming}

\subsection{Nominal or Structural}

\subsection{Recursive Data Types}

using predicates
constraints as type level computation (requires a type system of sufficient expressiveness)

typing structural data

nominal
- structural

object identity

giving `this` / `self` special type treatment

inheritance (could merge with subtyping)

variable / member mutation

\section{Other Performance Concerns}

cast insertion

Large array

runtime check overhead

\section{Language-specific Challenges}

%Chapter 4
\renewcommand{\thechapter}{4}
\chapter{Related Work}

(TODO) sound gradual typing is nominally alive and well


TypeScript implements "occurrence typing" (see "Type Guards and Differentiating Types" of advanced types) and Array as tuple 
\renewcommand{\thechapter}{5}

\chapter{Future Work}

\renewcommand{\thechapter}{6}
\chapter{Conclusion}